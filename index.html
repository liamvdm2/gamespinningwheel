<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spinningwheel</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
    <div class="container">
        <div class="title">Game spinningwheel</div>
        <div class="spinBtn">spin</div>
        <div class="wheel">
            <div class="option" style="--i:1;--clr:#ff0000;">
                <span>Fortnite</span>
            </div>
            <div class="option" style="--i:2;--clr:#c6fc02;">
                <span>EAFC</span>
            </div>
            <div class="option" style="--i:3;--clr:#9d0cfd;">
                <span>Valorant</span>
            </div>
            <div class="option" style="--i:4;--clr:#ff009d;">
                <span>Skribbl.io</span>
            </div>
            <div class="option" style="--i:5;--clr:#ff0000;">
                <span>UNO</span>
            </div>
            <div class="option" style="--i:6;--clr:#1c0097;">
                <span>LoL</span>
            </div>
            <div class="option" style="--i:7;--clr:#0c60fd;">
                <span>Apex</span>
            </div>
            <div class="option" style="--i:8;--clr:#2bff00;">
                <span>F1</span>
            </div>
        </div>

        <footer>
            <p>made with ❤️ by <a href="https://github.com/liamvdm2">liamvdm2</a></p>
            <p>source code spinningwheel OnlineTutorials: <a
                    href="https://www.youtube.com/watch?v=F3-lK_-PQr0&ab_channel=OnlineTutorials">Youtube</a></p>
        </footer>


        <script>
            let wheel = document.querySelector(".wheel");
            let spinBtn = document.querySelector(".spinBtn");
            let value = Math.ceil(Math.random() * 3600);

            spinBtn.onclick = function () {
                wheel.style.transform = "rotate(" + value + "deg)";
                value += Math.ceil(Math.random() * 3600);
                // Listen for the end of the spin animation
                /* wheel.addEventListener('transitionend', checkWinner); */
            }

            /* function checkWinner() {     check winner function doesnt work yet
                // Remove the event listener to avoid multiple triggers
                wheel.removeEventListener('transitionend', checkWinner);
                // Calculate the current position of the wheel
                let currentRotation = parseFloat(getComputedStyle(wheel).transform.replace(/[^\d.]/g, '')) || 0;
                // Calculate the current option in the center
                // Assuming each option is  45 degrees apart and the wheel rotates  360 degrees
                let centerOptionIndex = Math.round((currentRotation % 360) / 45);
                // Correct the index if it's negative or if it exceeds the number of options
                centerOptionIndex = (centerOptionIndex + 8) % 8; // Adjusted for  8 options
                // Show an alert for the winning option
                alert("This game has won: " + document.querySelectorAll('.option')[centerOptionIndex].textContent.trim());
            }
 */
        </script>

</body>

</html>